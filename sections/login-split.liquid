<div class="wf-split-screen">
  
  {%- comment -%} 1. PANEL IZQUIERDO: IMAGEN DE MARCA {%- endcomment -%}
  <div class="wf-split-image-panel">
    <div class="wf-split-overlay"></div>
    
    {% if section.settings.bg_image != blank %}
      <img src="{{ section.settings.bg_image | img_url: 'master' }}" alt="{{ section.settings.brand_title | escape }}" loading="lazy">
    {% else %}
      <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1470&auto=format&fit=crop" alt="Urban Muscle Lifestyle" loading="lazy">
    {% endif %}
    
    <div class="wf-split-brand-text">
      <h2>{{ section.settings.brand_title }}</h2>
      <p>{{ section.settings.brand_subtitle }}</p>
    </div>
  </div>

  {%- comment -%} 2. PANEL DERECHO: FORMULARIOS {%- endcomment -%}
  <div class="wf-split-form-panel">
    <div class="wf-form-container">

      <div class="note form-success" id="ResetSuccess" style="display:none;">
        {{ 'customer.recover_password.success' | t }}
      </div>

      <div id="CustomerLoginForm" class="form-vertical">
        {% form 'customer_login' %}
          
          <div class="wf-form-header">
            <h1 class="page-title">{{ 'customer.login.title' | t }}</h1>
            <p>Ingresa tus datos para continuar.</p>
          </div>

          {{ form.errors | default_errors }}

          <div class="wf-input-group">
            <label for="CustomerEmail">{{ 'customer.login.email' | t }}</label>
            <input type="email" name="customer[email]" id="CustomerEmail" class="{% if form.errors contains 'email' %} error{% endif %}" placeholder="tu@correo.com" autocorrect="off" autocapitalize="off" autofocus>
          </div>

          {% if form.password_needed %}
            <div class="wf-input-group">
              <label for="CustomerPassword">{{ 'customer.login.password' | t }}</label>
              <input type="password" value="" name="customer[password]" id="CustomerPassword" class="{% if form.errors contains 'password' %} error{% endif %}" placeholder="••••••••">
            </div>
          {% endif %}

          <div class="wf-form-actions">
            <button type="submit" class="wf-btn-primary">{{ 'customer.login.sign_in' | t }}</button>
          </div>

          <div class="wf-form-footer">
            <div class="wf-form-link-wrap">
              {{ 'layout.customer.create_account' | t | customer_register_link }}
            </div>
            {% if form.password_needed %}
              <div class="wf-form-link-wrap">
                <a href="#recover" id="RecoverPassword">{{ 'customer.login.forgot_password' | t }}</a>
              </div>
            {% endif %}
          </div>
        {% endform %}
      </div>

      <div id="RecoverPasswordForm" style="display: none;">
        <div class="wf-form-header">
          <h2 class="page-title">{{ 'customer.recover_password.title' | t }}</h2>
          <p class="recover-password-subtext">{{ 'customer.recover_password.subtext' | t }}</p>
        </div>

        <div class="form-vertical">
          {% form 'recover_customer_password' %}
            {{ form.errors | default_errors }}

            {% if form.posted_successfully? %}
              {% assign resetPassword = true %}
            {% endif %}

            <div class="wf-input-group">
              <label for="RecoverEmail">{{ 'customer.recover_password.email' | t }}</label>
              <input type="email" value="" name="email" id="RecoverEmail" placeholder="{{ 'customer.recover_password.enter_email' | t }}" autocorrect="off" autocapitalize="off">
            </div>

            <div class="wf-form-actions wf-actions-stacked">
              <button type="submit" class="wf-btn-primary">{{ 'customer.recover_password.submit' | t }}</button>
              <button type="button" id="HideRecoverPasswordLink" class="wf-btn-secondary">{{ 'customer.recover_password.cancel' | t }}</button>
            </div>
          {% endform %}
        </div>
      </div>

      {% if shop.checkout.guest_login %}
        <div class="wf-guest-login">
          <hr class="wf-divider">
          <h2 class="wf-guest-title">{{ 'customer.login.guest_title' | t }}</h2>
          {% form 'guest_login' %}
            <button type="submit" class="wf-btn-secondary">{{ 'customer.login.guest_continue' | t }}</button>
          {% endform %}
        </div>
      {% endif %}

    </div>
  </div>
</div>

{% schema %}
{
  "name": "Página de Login WF",
  "settings": [
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Imagen de fondo (Mitad de pantalla)"
    },
    {
      "type": "text",
      "id": "brand_title",
      "label": "Título principal",
      "default": "Urban Muscle"
    },
    {
      "type": "textarea",
      "id": "brand_subtitle",
      "label": "Subtítulo / Mensaje",
      "default": "Entrena con la élite. Únete a nuestra comunidad."
    }
  ]
}
{% endschema %}